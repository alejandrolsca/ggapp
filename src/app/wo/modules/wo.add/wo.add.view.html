<div class="col-sm-12">
        <h3>{{'wo-add.title' | i18n}}</h3>
</div>
    <span ng-if="loading">Cargando...</span>
    <form class="row col-lg-9" role="form" name="ggform" ng-submit="onSubmit();" novalidate>
    <gg-select err-class="error"
           lbl="{{'wo-add.labels.zo-id' | i18n}}" 
           form-group-class="col-sm-6" 
           options="zo_idoptions" 
           ng-model="fmData.zo_id"
           regexp="singlespaces"
           regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
           req-msg="Required"
           is-required="true">
  </gg-select>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-orderedby' | i18n}}" 
            form-group-class="col-sm-6"
            ng-model="fmData.wo_orderedby"
            regexp="singlespaces"
            regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
            req-msg="Required"
            is-required="true">
  </gg-input>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-attention' | i18n}}" 
            form-group-class="col-sm-4"
            ng-model="fmData.wo_attention"
            regexp="singlespaces"
            regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
            req-msg="Required"
            is-required="true">
  </gg-input>          
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-release' | i18n}}" 
            form-group-class="col-sm-4"
            ng-model="fmData.wo_release"
            regexp="singlespaces"
            regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
            req-msg="Required">
  </gg-input>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-po' | i18n}}" 
            form-group-class="col-sm-4"
            ng-model="fmData.wo_po"
            regexp="singlespaces"
            regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
            req-msg="Required">
  </gg-input>
  <label class="col-sm-12 fieldset">LINEA</label>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-line' | i18n}}" 
            form-group-class="col-sm-3"
            ng-model="fmData.wo_line"
            regexp="integer"
            regexp-msg="{{'general.regexp.integer' | i18n}}"
            req-msg="Required">
  </gg-input>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-linetotal' | i18n}}" 
            form-group-class="col-sm-3"
            ng-model="fmData.wo_linetotal"
            regexp="integer"
            regexp-msg="{{'general.regexp.integer' | i18n}}"
            req-msg="Required">
  </gg-input>
  <label class="col-sm-12 col-xs-12 fieldset">PRODUCTO</label>
  <gg-select err-class="error"
           lbl="{{'wo-add.labels.pr-id' | i18n}}" 
           form-group-class="col-sm-8 col-xs-10" 
           options="pr_idoptions" 
           ng-model="fmData.pr_id"
           regexp="singlespaces"
           regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
           req-msg="Required"
           is-required="true"
           is-disabled="true">
  </gg-select>
    <div class="form-group col-sm-2 col-xs-2">
            <label class="control-label">&nbsp</label>
            <div>
                <a class="btn btn-primary form-control" href="{{productUpdateUrl}}" target="_blank">Detalles</a>  
            </div>
    </div>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-qty' | i18n}}" 
            form-group-class="col-sm-2"
            ng-model="fmData.wo_qty"
            regexp="integer"
            regexp-msg="{{'general.regexp.integer' | i18n}}"
            req-msg="Required"
            is-required="true">
  </gg-input>
  <span class="col-sm-12">
    <div ng-show="prinfo" class="pr-info col-sm-12 bg-info">
            <strong>Part No:</strong> {{product['pr_jsonb']['pr_partno']}}<br/>
            <strong>Folios:</strong> {{product['pr_jsonb']['pr_folio']}}<br/>
            <strong>Material:</strong> <br>
            <span ng-repeat="material in materials track by $index">{{material.description}} 
                <span class="text-danger" ng-if="material.status === 'I'"> - Deshabilitado</span><br/>
            </span>
    </div>
  </span>
  <span ng-if="folio">
        <label class="col-sm-12 fieldset">FOLIOS</label>
        <gg-select err-class="error"
                        lbl="{{'wo-add.labels.wo-foliosperformat' | i18n}}" 
                        form-group-class="col-sm-3" 
                        options="wo_foliosperformatoptions" 
                        ng-model="fmData.wo_foliosperformat"
                        regexp="singlespaces"
                        regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
                        req-msg="Required"
                        is-required="true">
        </gg-select>
        <gg-input err-class="error"
                        lbl="{{'wo-add.labels.wo-foliosseries' | i18n}}" 
                        form-group-class="col-sm-3"
                        ng-model="fmData.wo_foliosseries"
                        regexp="uppercase"
                        regexp-msg="{{'general.regexp.uppercase' | i18n}}"
                        req-msg="Required"
                        is-required="false">
        </gg-input>
        <gg-input err-class="error"
                        lbl="{{'wo-add.labels.wo-foliosfrom' | i18n}}" 
                        form-group-class="col-sm-3"
                        ng-model="fmData.wo_foliosfrom"
                        regexp="integer"
                        regexp-msg="{{'general.regexp.integer' | i18n}}"
                        req-msg="Required"
                        is-required="true">
        </gg-input>
        <gg-input err-class="error"
                        lbl="{{'wo-add.labels.wo-foliosto' | i18n}}" 
                        form-group-class="col-sm-3"
                        ng-model="fmData.wo_foliosto"
                        regexp="integer"
                        regexp-msg="{{'general.regexp.integer' | i18n}}"
                        req-msg="Required"
                        is-required="true">
        </gg-input>
  </span>
  <span ng-if="fmData.pr_id">   
        <label class="col-sm-12 fieldset">MAQUINA</label>
        <gg-select err-class="error"
                        lbl="{{'wo-add.labels.ma-id' | i18n}}" 
                        form-group-class="col-sm-6"
                        options="ma_idoptions" 
                        ng-model="fmData.ma_id"
                        regexp="singlespaces"
                        regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
                        req-msg="Required"
                        is-required="true">
        </gg-select>
  </span>
  <label class="col-sm-12 fieldset">MATERIAL ORDENADO</label> 
 <span ng-if="!components">
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-materialqty' | i18n}}" 
            form-group-class="col-sm-3"
            ng-model="fmData.wo_materialqty"
            regexp="decimal"
            regexp-msg="{{'general.regexp.decimal' | i18n}}"
            req-msg="Required"
            is-required="true">
  </gg-input>
 </span>
 <span ng-if="components">
         <span ng-repeat="material in componentsArray track by $index">
                <gg-input err-class="error"
                        lbl="{{product['pr_jsonb']['pr_concept'][$index]}}" 
                        form-group-class="col-sm-3"
                        ng-model="fmData.wo_componentmaterialqty[$index]"
                        regexp="decimal"
                        regexp-msg="{{'general.regexp.decimal' | i18n}}"
                        req-msg="Required"
                        is-required="true">
              </gg-input>
         </span>
 </span>
 <label class="col-sm-12 fieldset">EMPAQUE</label>
 <gg-input err-class="error"
           lbl="{{'wo-add.labels.wo-packageqty' | i18n}}" 
           form-group-class="col-sm-3"
           ng-model="fmData.wo_packageqty"
           regexp="integer"
           regexp-msg="{{'general.regexp.integer' | i18n}}"
           req-msg="Required"
           is-required="true">
   </gg-input>
   <gg-input err-class="error"
           lbl="{{'wo-add.labels.wo-boxqty' | i18n}}" 
           form-group-class="col-sm-3"
           ng-model="fmData.wo_boxqty"
           regexp="integer"
           regexp-msg="{{'general.regexp.integer' | i18n}}"
           req-msg="Required"
           is-required="true">
   </gg-input> 
  <label class="col-sm-12 fieldset">ORDEN</label>
  <gg-textarea err-class="error"
            lbl="{{'wo-add.labels.wo-notes' | i18n}}" 
            form-group-class="col-sm-6"
            ng-model="fmData.wo_notes"
            height="176"
            regexp="singlespaces"
            regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
            req-msg="Required">
  </gg-textarea>
  <div class="form-group col-sm-6">
        <label class="control-label">{{'wo-add.labels.wo-commitmentdate' | i18n}}<span class="glyphicon glyphicon-asterisk ng-hide" aria-hidden="true" ng-show="required"></span></label>
        <div class=""><div ng-required="true" class="datepicker form-control" id="wo_commitmentdate"></div></div>
  </div>
  <gg-input err-class="error"
            lbl="{{'wo-add.labels.wo-price' | i18n}}" 
            form-group-class="col-sm-3"
            ng-model="fmData.wo_price"
            regexp="decimal"
            regexp-msg="{{'general.regexp.decimal' | i18n}}"
            req-msg="Required"
            is-required="true">
  </gg-input>
  <gg-select err-class="error"
           lbl="{{'wo-add.labels.wo-currency' | i18n}}" 
           form-group-class="col-sm-3" 
           options="wo_currencyoptions" 
           ng-model="fmData.wo_currency"
           regexp="singlespaces"
           regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
           req-msg="Required"
           is-required="true">
  </gg-select>
  <gg-select err-class="error"
           lbl="{{'wo-add.labels.wo-email' | i18n}}" 
           form-group-class="col-sm-6" 
           options="wo_emailoptions" 
           ng-model="fmData.wo_email"
           regexp="singlespaces"
           regexp-msg="{{'general.regexp.singlespaces' | i18n}}"
           req-msg="Required"
           is-required="true">
  </gg-select>
  <gg-submit lbl="Submit"
            form-group-class="col-sm-12" 
            ng-disabled="ggform.$invalid || mt_inactive"
            btn-class="col-xs-12 col-sm-4 col-md-2">
  </gg-submit> 
</form>
